<!-- Sección anillo animado 2D -->
<section id="section1" class="section active" style="background-image:url('fondo_floral4.jpg')">
  <div class="overlay"></div>
  <div class="centered">
    <canvas id="ringCanvas2D" width="560" height="560" aria-label="Anillo 2D"></canvas>
    <h1 id="acceptText">¡Sí acepto!</h1>
  </div>
</section>

<style>
#ringCanvas2D{width:560px;height:560px;max-width:85vw;max-height:85vw;border-radius:50%;background:transparent;display:block;cursor:none;}
.magic-cursor{position:fixed;width:24px;height:24px;border-radius:50%;pointer-events:none;mix-blend-mode:screen;box-shadow:0 0 12px 4px #ffffff;z-index:2000;}
</style>

<script>
// Canvas 2D para anillo
const ringCanvas=document.getElementById('ringCanvas2D');
const ctx=ringCanvas.getContext('2d');
const centerX=ringCanvas.width/2;
const centerY=ringCanvas.height/2;
let ringRotation=0;

// Partículas brillantes en el anillo
const sparkleCount=60;
const sparkles=Array.from({length:sparkleCount}).map(()=>{
  return {
    angle: Math.random()*Math.PI*2,
    radius: 110 + Math.random()*15,
    speed: 0.01 + Math.random()*0.02,
    size: Math.random()*2+1
  };
});

function drawRing(){
  ctx.clearRect(0,0,ringCanvas.width,ringCanvas.height);

  // Anillo plateado base
  const grad=ctx.createRadialGradient(centerX,centerY,100,centerX,centerY,140);
  grad.addColorStop(0,'#ffffff'); grad.addColorStop(0.3,'#dddddd'); grad.addColorStop(1,'#aaaaaa');
  ctx.strokeStyle=grad;
  ctx.lineWidth=12; ctx.beginPath(); ctx.arc(centerX,centerY,120,0,Math.PI*2); ctx.stroke();

  // Destellos animados
  sparkles.forEach(s=>{
    s.angle+=s.speed;
    const x=centerX+Math.cos(s.angle)*s.radius;
    const y=centerY+Math.sin(s.angle)*s.radius;
    const shine=ctx.createRadialGradient(x,y,0,x,y,s.size*2);
    shine.addColorStop(0,'rgba(255,255,255,1)');
    shine.addColorStop(0.5,'rgba(255,255,255,0.4)');
    shine.addColorStop(1,'rgba(255,255,255,0)');
    ctx.fillStyle=shine;
    ctx.beginPath(); ctx.arc(x,y,s.size,0,Math.PI*2); ctx.fill();
  });

  ringRotation+=0.002;
  requestAnimationFrame(drawRing);
}
drawRing();

// Cursor mágico
const cursor=document.createElement('div'); cursor.classList.add('magic-cursor'); document.body.appendChild(cursor);
document.addEventListener('mousemove',e=>{
  gsap.to(cursor,{x:e.clientX-12,y:e.clientY-12,duration:0.2,ease:'power2.out'});
});
</script>
 
