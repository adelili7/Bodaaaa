<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invitación: Abril & Pablo</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<style>
:root{--accent:#1e90ff;--silver:#dcdcdc;--deep:#102030}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;width:100%;font-family:'Playfair Display',serif;background:#fff;overflow:hidden}
.section{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-size:cover;background-position:center;opacity:0;pointer-events:none;transition:opacity .45s ease}
.section.active{opacity:1;pointer-events:auto}
.overlay{position:absolute;inset:0;background:linear-gradient(0deg,rgba(255,255,255,0.01),rgba(255,255,255,0.01));pointer-events:none}
.content{position:relative;z-index:20;display:flex;flex-direction:column;align-items:center;padding:4vh;width:100%;max-width:1400px;text-align:center}
h1{font-family:'Great Vibes',cursive;color:var(--accent);font-size:6vw;text-shadow:0 0 18px rgba(142,197,255,0.95);cursor:pointer;margin-top:2vh}
p{font-family:'Playfair Display',serif;font-size:1.2vw;color:var(--deep);line-height:1.4}
.romantic{font-family:'Great Vibes',cursive;font-size:2.8vw;color:var(--accent)}
.centered {display:flex;flex-direction:column;align-items:center;justify-content:center}
@media(max-width:1200px){h1{font-size:12vw}p{font-size:3.5vw}.romantic{font-size:5.5vw}}
#ringCanvas{width:480px;height:480px;border-radius:20px;background:transparent;z-index:30}
#particleCanvas{position:fixed;inset:0;z-index:10;pointer-events:none}
.navBtn{position:absolute;bottom:5vh;padding:0.6em 1.2em;margin:0 1em;font-size:1.5vw;border:none;background:var(--accent);color:#fff;border-radius:12px;cursor:pointer;z-index:50}
</style>
</head>
<body>

<section id="section1" class="section active" style="background-image:url('fondo_floral4.jpg');">
  <div class="overlay"></div>
  <div class="content centered">
    <canvas id="ringCanvas" width="480" height="480"></canvas>
    <h1 id="acceptText">¡Sí acepto!</h1>
    <p class="romantic" style="margin-top:1vh;font-size:2vw">Faltan <span id="countdown"></span> días para nuestra boda</p>
  </div>
  <button class="navBtn" id="nextBtn">Siguiente</button>
</section>

<canvas id="particleCanvas"></canvas>

<audio id="weddingMusic" src="marcha_nupcial.mp3" preload="auto" loop autoplay></audio>
<audio id="eternallyMusic" src="eternamente.mp3" preload="auto" loop></audio>

<script>
// Firebase config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Countdown
const countdownEl=document.getElementById('countdown');
function updateCountdown(){
  const weddingDate=new Date('2025-12-28T00:00:00');
  const now=new Date();
  const diff=Math.max(0,Math.floor((weddingDate-now)/(1000*60*60*24)));
  countdownEl.textContent=diff;
}
updateCountdown(); setInterval(updateCountdown,1000*60*60);

// Three.js ring & heart
const canvas=document.getElementById('ringCanvas');
const renderer=new THREE.WebGLRenderer({canvas:canvas,alpha:true,antialias:true});
function fit(){const dpr=window.devicePixelRatio||1; renderer.setPixelRatio(dpr); renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);} fit(); window.addEventListener('resize', fit);

const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(50, canvas.clientWidth/canvas.clientHeight, 0.1, 1000); camera.position.z=3.2;
scene.add(new THREE.AmbientLight(0xffffff,0.6));
const pl=new THREE.PointLight(0xffffff,0.9); pl.position.set(6,6,6); scene.add(pl);
const rim=new THREE.DirectionalLight(0xbfeaff,0.45); rim.position.set(-5,3,5); scene.add(rim);

const ringGeo=new THREE.TorusGeometry(1,0.045,64,300);
const ringMat=new THREE.MeshPhysicalMaterial({color:0xdcdcdc, metalness:1, roughness:0.02, clearcoat:1, reflectivity:1});
const ring=new THREE.Mesh(ringGeo, ringMat); ring.rotation.x=0.12; scene.add(ring);

// Heart diamond
const heartShape=new THREE.Shape();
heartShape.moveTo(0,0.45); heartShape.bezierCurveTo(0,0.45,-0.42,0,0,-0.42); heartShape.bezierCurveTo(0.42,0,0,0.45,0,0.45);
const heartGeo=new THREE.ExtrudeGeometry(heartShape,{depth:0.18,bevelEnabled:true,bevelThickness:0.02,bevelSize:0.02,bevelSegments:4});
const heartMat=new THREE.MeshPhysicalMaterial({color:0x7fb9ff, metalness:0.05, roughness:0.05, clearcoat:0.95, emissive:0x7fb9ff, emissiveIntensity:0.6});
const stone=new THREE.Mesh(heartGeo, heartMat); stone.scale.set(0.6,0.6,0.6); scene.add(stone);
const stoneLight=new THREE.PointLight(0x9fd7ff,1.2,4); scene.add(stoneLight);

// Particle system
const particleCanvas=document.getElementById('particleCanvas'); const ctx=particleCanvas.getContext('2d');
function fitParticles(){particleCanvas.width=window.innerWidth; particleCanvas.height=window.innerHeight;} fitParticles(); window.addEventListener('resize',fitParticles);
const count=150; const parts=[]; const palettes=[['255,255,255'],['225,225,230'],['200,220,255'],['230,176,165']];
for(let i=0;i<count;i++){parts.push({x:Math.random()*particleCanvas.width,y:Math.random()*particleCanvas.height,vx:(Math.random()-0.5)*0.3,vy:(Math.random()-0.5)*0.35,r:Math.random()*2+0.8,c:palettes[Math.floor(Math.random()*palettes.length)],a:Math.random()*0.7+0.15,phase:Math.random()*Math.PI*2});}
function drawParticles(){ctx.clearRect(0,0,particleCanvas.width,particleCanvas.height); for(const p of parts){ p.x+=p.vx; p.y+=Math.sin((Date.now()/1000)+p.phase)*0.5 + p.vy; if(p.x<-30)p.x=particleCanvas.width+30; if(p.x>particleCanvas.width+30)p.x=-30; if(p.y<-30)p.y=particleCanvas.height+30; if(p.y>particleCanvas.height+30)p.y=-30; const g=ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*14); g.addColorStop(0,`rgba(${p.c.join(',')},${p.a})`); g.addColorStop(0.25,`rgba(255,255,255,${p.a*0.85})`); g.addColorStop(1,'rgba(255,255,255,0)'); ctx.fillStyle=g; ctx.fillRect(p.x-p.r*12,p.y-p.r*12,p.r*24,p.r*24); } requestAnimationFrame(drawParticles);}
drawParticles();

// Animate
const clock=new THREE.Clock();
function animate(){Perfecto. Aquí tienes un **código completo y corregido** integrando todo lo que solicitaste hasta ahora, con el anillo plateado estilo elegante, diamante azul girando en el perímetro, partículas tipo hadas cálidas, música automática, contador de días, y navegación entre secciones:

```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invitación: Abril & Pablo</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<style>
:root{--accent:#1e90ff;--silver:#dcdcdc;--deep:#102030}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;width:100%;font-family:'Playfair Display',serif;background:#fff;overflow:hidden}
.section{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-size:cover;background-position:center;opacity:0;pointer-events:none;transition:opacity .45s ease}
.section.active{opacity:1;pointer-events:auto}
.overlay{position:absolute;inset:0;background:linear-gradient(0deg,rgba(255,255,255,0.01),rgba(255,255,255,0.01));pointer-events:none}
.content{position:relative;z-index:20;display:flex;flex-direction:column;align-items:center;padding:4vh;width:100%;max-width:1400px;text-align:center}
h1{font-family:'Great Vibes',cursive;color:var(--accent);font-size:6vw;text-shadow:0 0 18px rgba(142,197,255,0.95);cursor:pointer;margin-top:2vh}
h2,h3,p{font-family:'Great Vibes',cursive;color:var(--accent)}
h2{font-size:3vw;line-height:1.3}
h3{font-size:2.5vw}
p{font-family:'Playfair Display',serif;font-size:1.2vw;color:var(--deep);line-height:1.4}
.romantic{font-family:'Great Vibes',cursive;font-size:2.8vw;color:var(--accent)}
.centered {display:flex;flex-direction:column;align-items:center;justify-content:center}
#ringCanvas{width:480px;height:480px;border-radius:20px;background:transparent;z-index:30}
#particleCanvas{position:fixed;inset:0;z-index:10;pointer-events:none}
.navBtn{position:absolute;bottom:5vh;padding:0.6em 1.2em;margin:0 1em;font-size:1.5vw;border:none;background:var(--accent);color:#fff;border-radius:12px;cursor:pointer;z-index:50}
@media(max-width:1200px){h1{font-size:12vw}h2{font-size:5vw}h3{font-size:4.5vw}p{font-size:3.5vw}.romantic{font-size:5.5vw}}
</style>
</head>
<body>

<!-- Sección Portada -->
<section id="section1" class="section active" style="background-image:url('fondo_floral4.jpg');">
  <div class="overlay"></div>
  <div class="content centered">
    <canvas id="ringCanvas" width="480" height="480"></canvas>
    <h1 id="acceptText">¡Sí acepto!</h1>
    <p class="romantic" style="margin-top:1vh;font-size:2vw">Faltan <span id="countdown"></span> días para nuestra boda</p>
  </div>
  <button class="navBtn" id="nextBtn">Siguiente</button>
</section>

<!-- Canvas partículas -->
<canvas id="particleCanvas"></canvas>

<!-- Música -->
<audio id="weddingMusic" src="marcha_nupcial.mp3" preload="auto" loop autoplay></audio>
<audio id="eternallyMusic" src="eternamente.mp3" preload="auto" loop></audio>

<script>
// Firebase config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Countdown
const countdownEl=document.getElementById('countdown');
function updateCountdown(){
  const weddingDate=new Date('2025-12-28T00:00:00');
  const now=new Date();
  const diff=Math.max(0,Math.floor((weddingDate-now)/(1000*60*60*24)));
  countdownEl.textContent=diff;
}
updateCountdown(); setInterval(updateCountdown,1000*60*60);

// Three.js ring y diamante
const canvas=document.getElementById('ringCanvas');
const renderer=new THREE.WebGLRenderer({canvas:canvas,alpha:true,antialias:true});
function fit(){const dpr=window.devicePixelRatio||1; renderer.setPixelRatio(dpr); renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);} fit(); window.addEventListener('resize', fit);

const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(50, canvas.clientWidth/canvas.clientHeight, 0.1, 1000); camera.position.z=3.2;
scene.add(new THREE.AmbientLight(0xffffff,0.6));
const pl=new THREE.PointLight(0xffffff,0.9); pl.position.set(6,6,6); scene.add(pl);
const rim=new THREE.DirectionalLight(0xbfeaff,0.45); rim.position.set(-5,3,5); scene.add(rim);

// Anillo
const ringGeo=new THREE.TorusGeometry(1,0.045,64,300);
const ringMat=new THREE.MeshPhysicalMaterial({color:0xdcdcdc, metalness:1, roughness:0.02, clearcoat:1.0, reflectivity:1});
const ring=new THREE.Mesh(ringGeo, ringMat); ring.rotation.x=0.12; scene.add(ring);

// Diamante azul corazón
const heartShape=new THREE.Shape();
heartShape.moveTo(0,0.45); heartShape.bezierCurveTo(0,0.45,-0.42,0,0,-0.42); heartShape.bezierCurveTo(0.42,0,0,0.45,0,0.45);
const heartGeo=new THREE.ExtrudeGeometry(heartShape,{depth:0.18,bevelEnabled:true,bevelThickness:0.02,bevelSize:0.02,bevelSegments:4});
const heartMat=new THREE.MeshPhysicalMaterial({color:0x7fb9ff, metalness:0.05, roughness:0.05, clearcoat:0.95, emissive:0x7fb9ff, emissiveIntensity:0.6});
const stone=new THREE.Mesh(heartGeo, heartMat); stone.scale.set(0.6,0.6,0.6); scene.add(stone);
const stoneLight=new THREE.PointLight(0x9fd7ff,1.2,4); scene.add(stoneLight);

// Partículas tipo hadas
const particleCanvas=document.getElementById('particleCanvas'); 
const ctx=particleCanvas.getContext('2d');
function fitParticles(){particleCanvas.width=window.innerWidth; particleCanvas.height=window.innerHeight;} fitParticles(); window.addEventListener('resize',fitParticles);
const count=150; 
const parts=[]; 
const palettes=[['255,255,255'],['225,225,230'],['200,220,255'],['230,176,165']];
for(let i=0;i<count;i++){
  parts.push({x:Math.random()*particleCanvas.width,y:Math.random()*particleCanvas.height,vx:(Math.random()-0.5)*0.3,vy:(Math.random()-0.5)*0.35,r:Math.random()*2+0.8,c:palettes[Math.floor(Math.random()*palettes.length)],a:Math.random()*0.7+0.15,phase:Math.random()*Math.PI*2});
}
function drawParticles(){
  ctx.clearRect(0,0,particleCanvas.width,particleCanvas.height); 
  for(const p of parts){ 
    p.x+=p.vx; p.y+=Math.sin((Date.now()/1000)+p.phase)*0.5 + p.vy; 
    if(p.x<-30)p.x=particleCanvas.width+30; if(p.x>particleCanvas.width+30)p.x=-30; 
    if(p.y<-30)p.y=particleCanvas.height+30; if(p.y>particleCanvas
 
